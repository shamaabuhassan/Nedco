@using WebApplication1.Models
@model TopupParameters

@{
    decimal? amount = 0;
    decimal? count = 0;

    if (ViewBag.valid == 0)
    {
        <script>
            alert('the meter id is not valid');
        </script>
    }
}


    <div style="flex:1; padding-left: 35px" class="vertical-align">

        @using (Html.BeginForm("MonthlyCharge", "Inquiries", FormMethod.Post))
        {
            <table>
                <tr>
                    <td>من</td>
                    <td>
                        @Html.EditorFor(o => o.fromdate,new { Type = "date" })
                        @Html.ValidationMessageFor(o => o.fromdate, "the date must entered", new { @class = "text-danger" })
                    </td>
                </tr>

                <tr>
                    <td>الى</td>
                    <td>
                        @Html.EditorFor(o => o.todate, new { Type = "date" })
                        @Html.ValidationMessageFor(o => o.todate, "the date must entered", new { @class = "text-danger" })
                    </td>
                </tr>



                <tr>
                    <td>رقم العداد</td>
                    <td>
                        @Html.EditorFor(o => o.MeterId)
                        @Html.ValidationMessageFor(o => o.MeterId, "", new { @class = "text-danger" })
                     </td>
                </tr>

            </table>

            <input type="submit" value="MonthlyCharge" />
        }



        @if (ViewBag.amount != null && ViewBag.count != null)
        {

            amount = ViewBag.amount;
            count = ViewBag.count;

            if (count != 0)
            {
                decimal? result = decimal.Round(amount.Value / count.Value, 2);
                <p>معدل الشحن الشهري هو:@(result)</p>
            }
        }

    </div>


    <div style="text-align: center;">

        <div class="hexagon full small blue">

            <span></span>
            <img src="~/images/user.png" style="width: 140px;z-index: 4;position: relative;" />
        </div>
        <div class="hexagon blue">
            <span></span>

            <div class="content">

                <a class="brand-button brand-button-2" href="@Url.Action("Transfers", "Inquiries")">سجل التحويلات</a>


                <a class="brand-button brand-button-2" href="@Url.Action("Charges","Inquiries")">سجل الشحن</a>


                <a class="brand-button brand-button-2" href="@Url.Action("MonthlyCharge", "Inquiries")">معدل شحن شهري</a>


                <a class="brand-button brand-button-2" href="@Url.Action("index", "Mainpage")">الصفحة الرئسية</a>

            </div>
        </div>
    </div>


